# Adding Advanced Filter API to the custom visual

- Add a reference in the package.json:

  ![](/doc/images/advanced-filter-api-in-package.json.PNG)

- Add a reference in the pbiviz.json:

  ![](/doc/images/advanced-filter-api-in-pbiviz.json.PNG)

- Add a reference in the tsconfig.json:

  ![](/doc/images/advanced-filter-api-in-tsconfig.json.PNG)
  
- Add filter in the capabilities.json as follows:

  ![](/doc/images/advanced-filter-api-in-capabilities.json.PNG)
  
  This entry defines a property where the Advanced Filter and the discrete selection IDs will be persisted.
